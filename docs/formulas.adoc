= Formulas
:stem: latexmath
:source-highlighter: pygments
:pygments-style: monokai
:wrap: normal

== bounce
* velocity downward
    - stem:[v = g t]

* height 
    - stem:[h = h_0 - \frac{1}{2}t^2]

* how long any object takes to fall from a given height
    - stem:[t = \sqrt{\frac{2h}{g}}]

* restitution
    - stem:[v_1 = e * v_0]

* rising
    - stem:[ v = e * v - g t ]

* falling
    - stem:[ v = g t ]

NOTE: the coefficent of restitution (e) represents energy loss.

Typical values for restitution:

* Rubber ball: stem:[e \approx 0.8 - 0.9]
* Basketball: stem:[e \approx 0.75]
* Tennis ball: stem:[e \approx 0.6]

== collisions

* Circle Overplaping
    - stem:[|c_1 c_2| <= r_1 + r_2]

* Pythagrean Thereom to find distancce between balls centers
    - stem:[a^2 + b^2 = c^2]

* Vector Normalization
    - stem:[\hat{u} = \frac{\overrightarrow{v}}{|\overrightarrow{v}|}]

* Magnitude of a Vector
    - stem:[||\overrightarrow{a}|| = \sqrt{a_{1}^2 + a_{2}^2 + \dots a_{n}^2}]

* Finding tangent vector
    - stem:[x = -y, y = x]

* 1D Conservation of Momentum
    - stem:[m_1 v_1 + m_2 v_2 = m_1 v_1 + m_2 v_2]

* 1D Elastic Collision
    - stem:[v_1' = (v_1 * (m_1-m_2) + 2 * m_2 * v_2)) / (m_1 + m_2)]
    - stem:[v_2' = (v_2 * (m_2-m_1) + 2 * m_1 * v_1)) / (m_1 + m_2)]

* Finding magnitude in a specific direction
    - stem:[|\overrightarrow{v}| = \overrightarrow{n} \cdot \overrightarrow{v}]

* Distinct unordered pairs
    - stem:[(n,2) = \frac{n(n-1)}{2}]

== Looking at the Code

=== Seeing if circle collide
Instead of doing this:

[source,c]
----
sqrtf((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2)) <= (r1 + r2);
----

We can save some computing speed by removing the square root and just
multiplying the left side by itself:

[source,c]
----
fabs((x1 - x2)*(x1 - x2) + (y1 - y2)*(y1 - y2)) <= (r1 + r2)*(r1 + r2);
----

=== Clamping Velocity

We can use the dot product to find the velocity in specific direction and then
clamp it

[source,c]
----
if (fabs(ball.vx*ball.vx + ball.vy*ball.vy) < 0.01f)
----

== Links

* https://www.wikihow.com/Normalize-a-Vector[Normalizing a Vector]
* https://www.youtube.com/watch?v=Fp7D5D8Bqjc[conservation of Momentum]

----
https://eng.libretexts.org/Bookshelves/Introductory_Engineering/Basic_Engineering_Science_-_A_Systems_Accounting_and_Modeling_Approach_(Richards)/03%3A_Conservation_of_Mass/3.03%3A_Conservation_of_Mass_Equation
----
